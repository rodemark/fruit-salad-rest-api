# Fruit Salad REST API
Fruit Salad REST API - это веб-приложение для управления фруктовыми салатами.

---

## Основные возможности

### Получение списка салатов
- **Метод:** `GET`
- **URL:** `/api/v1/salads`
- **Описание:** Возвращает список всех салатов.

### Вычисление питательной ценности салата на 100 грамм
- **Метод:** `GET`
- **URL:** `/api/v1/salads/{saladId}/nutrition`
- **Описание:** Выполняет расчет питательной ценности (калории, белки, жиры, углеводы, сахар) для указанного салата, нормализуя данные на 100 грамм.

### Поиск дубликатов салатов
- **Метод:** `GET`
- **URL:** `/api/v1/salads/duplicates`
- **Описание:** Возвращает группы салатов, которые имеют идентичные рецепты, что позволяет выявлять повторяющиеся записи.

### Добавление нового салата
- **Метод:** `POST`
- **URL:** `/api/v1/salads`
- **Описание:** Создает новый салат с предоставленными данными.
- **Пример запроса:**
  ```json
  {
  "name": "Тропический микс",
  "description": "Освежающий салат с экзотическими фруктами для жаркого летнего дня.",
  "saladRecipe": {
    "Mango": 150,
    "Pineapple": 100,
    "Banana": 120,
    "Kiwi": 80
  }
  }

  ```
### Редактирование существующего салата
- **Метод:** `PATCH`
- **URL:** `/api/v1/salads/{saladId}`
- **Описание:** Обновляет данные выбранного салата.
- **Пример запроса:**
  ```json
  {
  "name": "Тропический микс",
  "description": "Освежающий салат с экзотическими фруктами для жаркого летнего дня.",
  "saladRecipe": {
    "Mango": 150,
    "Pineapple": 100,
    "Banana": 120,
    "Kiwi": 80,
    "Papaya": 50
  }
  }
  ```
  
### Удаление салата
- **Метод:** `DELETE`
- **URL:** `/api/v1/salads/{saladId}`
- **Описание:** Удаляет салат из системы по указанному идентификатору.

---

## Технологии и зависимости

- **Java 21**
- **Spring Boot**
- **Spring Data JPA**
- **PostgreSQL**
- **Maven**
- **JUnit 5, Mockito**
- **SpringDoc OpenAPI**

---

## Установка и запуск
Скачиваем репозиторий:
```bash
git clone git@github.com:rodemark/fruit-salad-rest-api.git
```
Создаем .env в корне проекта, который должен иметь подобное содержание:
```aiignore
DB_URL=jdbc:postgresql://fruit-salad-postgres:5432/fruit_salad_db

DB_NAME=fruit_salad_db
DB_USERNAME=postgres
DB_PASSWORD=postgres
```

Запускаем docker-compose:
```bash
docker-compose up -d
```
Сервис будет доступен по адресу: `http://localhost:8080`

Swagger будет доступен по адресу: `http://localhost:8080/swagger-ui.html`